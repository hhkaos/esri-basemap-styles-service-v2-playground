<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <title>{{pageTitle}}</title>

    <!--
      API key is injected from the playground input.
      Scope keys by referrer and rotate regularly:
      https://developers.arcgis.com/documentation/security-and-authentication/api-key-authentication/#best-practices
    -->

    <link rel="stylesheet" href="https://js.arcgis.com/4.34/esri/themes/light/main.css" />
    <script src="https://js.arcgis.com/4.34/"></script>

    <style>
      html,
      body,
      #viewDiv {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        font-family: Arial, Helvetica, sans-serif;
        font-size: 14px;
        color: #323232;
      }
    </style>
  </head>
  <body>
    <div id="viewDiv"></div>

    <script type="module">
      const [Map, MapView, esriConfig] = await $arcgis.import([
        '@arcgis/core/Map.js',
        '@arcgis/core/views/MapView.js',
        '@arcgis/core/config.js',
      ]);

      esriConfig.apiKey = '{{accessToken}}';

      const basemapStyle = {
        id: '{{basemapEnum}}',
      };

      const language = '{{language}}';
      const worldview = '{{worldview}}';
      const places = '{{places}}';

      if (language && language !== 'global') {
        basemapStyle.language = language;
      }

      if (worldview) {
        basemapStyle.worldview = worldview;
      }

      // If places is "none" and you only need map display, consider ArcGIS Map Components:
      // https://developers.arcgis.com/javascript/latest/tutorials/display-a-map/
      if (places && places !== 'none') {
        basemapStyle.places = places;
      }

      const map = new Map({
        basemap: {
          style: basemapStyle,
        },
      });

      new MapView({
        container: 'viewDiv',
        map,
        center: [{{centerLng}}, {{centerLat}}],
        zoom: {{zoom}},
      });
    </script>
  </body>
</html>
